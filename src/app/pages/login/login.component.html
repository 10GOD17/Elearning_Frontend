<div class="login-wrapper">
  <!-- LEFT PANEL: Corporate Image -->
  <div class="login-left">
    <div class="left-overlay">
      <div class="left-content">
        <div class="left-badge">
          <i class="pi pi-shield"></i>
          <span>Plataforma Certificada ISO 27001</span>
        </div>
        <h1 class="left-title">Impulsa el talento.<br>Construye el futuro.</h1>
        <p class="left-subtitle">
          La plataforma de aprendizaje corporativo de SalfaCorp.
          Más de 2.400 colaboradores en constante crecimiento.
        </p>
        <div class="left-stats">
          <div class="stat-item">
            <span class="stat-number">2.4K+</span>
            <span class="stat-label">Colaboradores</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-item">
            <span class="stat-number">180+</span>
            <span class="stat-label">Cursos activos</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-item">
            <span class="stat-number">94%</span>
            <span class="stat-label">Satisfacción</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- RIGHT PANEL: Login Form -->
  <div class="login-right">
    <div class="login-form-container">
      <!-- Logo Capital Humano -->
      <div class="logo-area">
        <div class="logo-main">
          <div class="logo-icon-wrap">
            <div class="logo-icon">
              <span>CH</span>
            </div>
          </div>
          <div class="logo-text-wrap">
            <h2 class="logo-company">SalfaCorp</h2>
            <div class="logo-divider"></div>
            <div class="logo-dept">
              <span class="logo-dept-main">Capital Humano</span>
              <span class="logo-dept-sub">Sistema de Gestión de Aprendizaje</span>
            </div>
          </div>
        </div>
        <div class="logo-tagline">
          Potenciando el desarrollo profesional de cada colaborador
        </div>
      </div>

      <!-- Step: Method Selection -->
      @if (currentStep() === 'method') {
        <div class="step-container">
          <div class="step-header">
            <h3 class="step-title">Bienvenido/a</h3>
            <p class="step-subtitle">Selecciona tu método de acceso para continuar</p>
          </div>

          <div class="methods-list">
            @for (method of loginMethods; track method.id) {
              <button class="method-btn" (click)="selectMethod(method.id)" pRipple>
                <div class="method-icon-wrap">
                  <i [class]="method.icon"></i>
                </div>
                <div class="method-text">
                  <span class="method-label">{{ method.label }}</span>
                  <span class="method-desc">{{ method.description }}</span>
                </div>
                <i class="pi pi-chevron-right method-arrow"></i>
              </button>
            }
          </div>

          <div class="divider-text">
            <span>Acceso seguro y encriptado</span>
          </div>

          <div class="security-badges">
            <div class="sec-badge"><i class="pi pi-lock"></i> SSL 256-bit</div>
            <div class="sec-badge"><i class="pi pi-shield"></i> SSO Habilitado</div>
            <div class="sec-badge"><i class="pi pi-verified"></i> MFA Disponible</div>
          </div>
        </div>
      }

      <!-- Step: Role Selection -->
      @if (currentStep() === 'role') {
        <div class="step-container">
          <button class="back-btn" (click)="goBack()">
            <i class="pi pi-arrow-left"></i>
            <span>Volver</span>
          </button>

          <div class="step-header">
            <h3 class="step-title">Selecciona tu perfil</h3>
            <p class="step-subtitle">¿Con qué rol accederás hoy a la plataforma?</p>
          </div>

          @if (isLoading()) {
            <div class="loading-state">
              <div class="loading-spinner"></div>
              <p>Iniciando sesión...</p>
            </div>
          } @else {
            <div class="roles-grid">
              @for (role of roleOptions; track role.id) {
                <button class="role-card" (click)="selectRole(role.id)" pRipple>
                  <div class="role-icon" [style.background]="role.color + '15'" [style.color]="role.color">
                    <i [class]="role.icon"></i>
                  </div>
                  <div class="role-info">
                    <span class="role-name">{{ role.label }}</span>
                    <span class="role-desc">{{ role.description }}</span>
                  </div>
                  <i class="pi pi-chevron-right role-arrow" [style.color]="role.color"></i>
                </button>
              }
            </div>
          }
        </div>
      }

      <!-- Footer -->
      <footer class="login-footer">
        <span>© 2025 SalfaCorp. Todos los derechos reservados.</span>
        <span class="footer-dev">Developed by <strong>Syntaxis</strong></span>
      </footer>
    </div>
  </div>
</div>
